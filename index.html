<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Documentation Agent Orchestrator</title>
  <meta name="description" content="Stop AI from inventing documentation. Govern AI rewrites with explicit ambiguity preservation and zero hallucinations." />

  <style>
    :root {
      --bg: #ffffff;
      --fg: #111111;
      --muted: #555555;
      --border: #e5e7eb;
      --accent: #2563eb;
      --code-bg: #f8f9fb;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: var(--bg);
      color: var(--fg);
      line-height: 1.6;
    }

    .container {
      max-width: 860px;
      margin: 0 auto;
      padding: 3rem 1.5rem;
    }

    h1, h2, h3 {
      line-height: 1.25;
      margin-top: 0;
    }

    h1 {
      font-size: 2.6rem;
      margin-bottom: 1rem;
    }

    h2 {
      font-size: 1.6rem;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
    }

    p {
      margin: 0.75rem 0;
      color: var(--fg);
    }

    section {
      margin-bottom: 1.5rem;
    }

    .muted {
      color: var(--muted);
    }

    .hero {
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border);
    }

    .hero p {
      font-size: 1.1rem;
    }

    .cta {
      margin-top: 1.5rem;
    }

    .button {
      display: inline-block;
      background: var(--accent);
      color: white;
      text-decoration: none;
      padding: 0.65rem 1.1rem;
      border-radius: 6px;
      font-weight: 600;
    }

    .button.secondary {
      background: transparent;
      color: var(--accent);
      margin-left: 1rem;
    }

    ul {
      padding-left: 1.2rem;
    }

    li {
      margin: 0.4rem 0;
    }

    pre {
      background: var(--code-bg);
      padding: 1rem;
      border-radius: 6px;
      overflow-x: auto;
      font-size: 0.9rem;
      border: 1px solid var(--border);
    }

    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    }

    .example {
      margin-top: 1.5rem;
    }

    .example h3 {
      margin-bottom: 0.5rem;
    }

    /* Comparison Demo Styles */
    .comparison-demo {
      margin-top: 3rem;
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 2rem;
    }

    .toggle-container {
      display: flex;
      justify-content: center;
      margin: 1.5rem 0;
      gap: 0;
    }

    .toggle-button {
      padding: 0.75rem 2rem;
      border: 2px solid var(--border);
      background: white;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.2s;
      flex: 1;
      max-width: 250px;
    }

    .toggle-button:first-child {
      border-radius: 6px 0 0 6px;
      border-right: 1px solid var(--border);
    }

    .toggle-button:last-child {
      border-radius: 0 6px 6px 0;
      border-left: 1px solid var(--border);
    }

    .toggle-button:hover {
      background: #f8f9fb;
    }

    .toggle-button.active-bad {
      background: #fee;
      border-color: #fcc;
      color: #c00;
    }

    .toggle-button.active-good {
      background: #efe;
      border-color: #cfc;
      color: #060;
    }

    .demo-source {
      background: #f5f5f5;
      padding: 1rem;
      border-radius: 6px;
      border: 1px solid var(--border);
      margin-bottom: 1.5rem;
      font-size: 0.9rem;
      white-space: pre-wrap;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    }

    .demo-source strong {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--fg);
      font-family: system-ui, -apple-system, sans-serif;
    }

    .comparison-output {
      background: white;
      border-radius: 6px;
      padding: 1.5rem;
      border: 2px solid var(--border);
      min-height: 300px;
    }

    .comparison-output h4 {
      margin-top: 0;
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }

    .comparison-output.bad {
      border-color: #fcc;
      background: #fffafa;
    }

    .comparison-output.good {
      border-color: #cfc;
      background: #fafffa;
    }

    .output-hidden {
      display: none;
    }

    /* Quiz Styles */
    .quiz-box {
      background: #f8f9fb;
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 1.5rem;
      margin: 1.5rem 0;
    }

    .quiz-options {
      margin: 1rem 0;
    }

    .quiz-option {
      display: block;
      padding: 0.75rem;
      margin: 0.5rem 0;
      border: 1px solid var(--border);
      border-radius: 4px;
      background: white;
      cursor: pointer;
      transition: all 0.2s;
    }

    .quiz-option:hover {
      background: #f0f7ff;
      border-color: var(--accent);
    }

    .quiz-option.correct {
      background: #efe;
      border-color: #060;
      cursor: default;
    }

    .quiz-option.wrong {
      background: #fee;
      border-color: #c00;
      cursor: default;
    }

    .quiz-explanation {
      margin-top: 1rem;
      padding: 1rem;
      background: #efe;
      border-left: 3px solid #060;
      border-radius: 4px;
      display: none;
    }

    .quiz-explanation.show {
      display: block;
    }

    /* Decision Flow */
    .decision-flow {
      background: white;
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 1.5rem;
      margin: 1.5rem 0;
      font-family: ui-monospace, monospace;
      font-size: 0.9rem;
      line-height: 1.8;
    }

    /* Misconceptions */
    .misconception-grid {
      display: grid;
      gap: 1rem;
      margin-top: 1rem;
    }

    .misconception-item {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 1rem;
      background: white;
      border: 1px solid var(--border);
      border-radius: 6px;
    }

    .misconception-icon {
      font-size: 1.5rem;
      flex-shrink: 0;
    }

    /* Sticky CTA */
    .sticky-cta {
      position: sticky;
      top: 0;
      background: var(--accent);
      color: white;
      padding: 0.75rem 1rem;
      text-align: center;
      z-index: 100;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .sticky-cta a {
      color: white;
      text-decoration: none;
      font-weight: 600;
    }

    .sticky-cta a:hover {
      text-decoration: underline;
    }

    /* Accordion/Collapsible Sections */
    .collapsible-section {
      border: 1px solid var(--border);
      border-radius: 6px;
      margin: 1rem 0;
      overflow: hidden;
    }

    .collapsible-header {
      padding: 1rem 1.5rem;
      background: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.1rem;
      font-weight: 600;
      transition: background 0.2s;
      user-select: none;
    }

    .collapsible-header:hover {
      background: #f8f9fb;
    }

    .collapsible-icon {
      font-size: 1rem;
      transition: transform 0.2s;
    }

    .collapsible-header.active .collapsible-icon {
      transform: rotate(90deg);
    }

    .collapsible-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }

    .collapsible-content-inner {
      padding: 1.5rem;
      background: white;
    }

    /* Final CTA */
    .final-cta {
      background: var(--code-bg);
      border: 2px solid var(--accent);
      border-radius: 8px;
      padding: 2rem;
      text-align: center;
      margin: 3rem 0 2rem;
    }

    .final-cta h2 {
      margin-top: 0;
      margin-bottom: 1.5rem;
      font-size: 1.4rem;
      line-height: 1.4;
    }

    .final-cta-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 1.5rem;
    }

    .highlight-bad {
      background: #fee;
      padding: 0.1rem 0.2rem;
      border-radius: 3px;
    }

    .highlight-good {
      background: #efe;
      padding: 0.1rem 0.2rem;
      border-radius: 3px;
    }

    .demo-source {
      background: #f5f5f5;
      padding: 1rem;
      border-radius: 6px;
      border: 1px solid var(--border);
      margin-bottom: 1.5rem;
      font-size: 0.9rem;
    }

    .demo-source strong {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--fg);
    }

    footer {
      margin-top: 4rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
      font-size: 0.9rem;
      color: var(--muted);
    }

    footer a {
      color: var(--muted);
      text-decoration: none;
      margin-right: 1rem;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- Hero -->
    <section class="hero">
      <h1>Stop AI from inventing documentation.</h1>
      <p>
        <strong>Documentation Agent Orchestrator</strong> helps technical writers use AI without hallucinations
        by enforcing strict governance rules.
      </p>
      <p class="muted">
        It either documents exactly what you provide, or stops before it would have to guess.
      </p>
    </section>

    <!-- Early Warning -->
    <section style="background: #fffaf0; border: 2px solid #ff9800; border-radius: 6px; padding: 1rem; margin-top: 1.5rem;">
      <p style="margin: 0;">⚠️ <strong>This is not a writing or polishing tool.</strong> It is a governance and inspection tool.</p>
    </section>

    <!-- Problem -->
    <section>
      <h2>AI is fluent. Documentation needs to be correct.</h2>
      <p>
        When AI rewrites documentation, the real risk is not grammar or tone.
        It is silent meaning change.
      </p>
      <ul>
        <li>Invented features</li>
        <li>Implied steps that do not exist</li>
        <li>Assumed workflows</li>
        <li>Changed terminology</li>
      </ul>
      <p class="muted">
        These mistakes are easy to miss and hard to defend later.
      </p>
    </section>

    <!-- What it does -->
    <section>
      <h2>What this tool does</h2>
      <ul>
        <li>Enforces strict governance on AI documentation rewrites</li>
        <li>Forces AI to preserve ambiguity instead of guessing</li>
        <li>Allows questions only when documentation would require invention</li>
        <li>Makes uncertainty explicit instead of hiding it in fluent text</li>
      </ul>
    </section>

    <!-- Toggle Comparison Section -->
    <section style="background: var(--code-bg); border: 1px solid var(--border); border-radius: 8px; padding: 2rem; margin: 2rem 0;">
      <h2 style="margin-top: 0;">See the difference in 30 seconds</h2>
      <p><strong>The same input. Two outcomes.</strong><br>
      Toggle between normal AI behavior and governed documentation.</p>

      <!-- Example Selector -->
      <div style="display: flex; gap: 0.5rem; margin: 1.5rem 0; flex-wrap: wrap;">
        <button class="demo-button active" data-toggle-example="procedure">Procedure</button>
        <button class="demo-button" data-toggle-example="blocking">Vague Input</button>
        <button class="demo-button" data-toggle-example="concept">Concept</button>
      </div>

      <!-- Toggle Controls -->
      <div class="toggle-container">
        <button class="toggle-button active-bad" id="toggle-without">❌ Without governance</button>
        <button class="toggle-button" id="toggle-with">✅ With Documentation Agent Orchestrator</button>
      </div>
      <p class="muted" style="text-align: center; font-size: 0.85rem; margin-top: 0.5rem;">Left shows what typical AI does. Right shows what happens when governance rules are enforced.</p>

      <!-- Original Input (always visible) -->
      <div style="margin: 2rem 0;">
        <p><strong>Original input</strong></p>
        <pre id="toggle-input" style="background: #f5f5f5; padding: 0.75rem; border-radius: 4px; margin: 0.5rem 0;"></pre>
      </div>

      <!-- Without Governance Output -->
      <div id="output-without" class="comparison-output bad">
        <h4>❌ Without governance (Normal AI)</h4>
        <pre id="without-text" style="background: #fffafa; padding: 1rem; border-radius: 4px; border: 1px solid #fcc; white-space: pre-wrap; font-size: 0.9rem; line-height: 1.6;"></pre>
        
        <p style="margin-top: 1rem;"><strong id="without-label"></strong></p>
        <div id="without-explanation" style="font-size: 0.9rem;"></div>
      </div>

      <!-- With Governance Output -->
      <div id="output-with" class="comparison-output good output-hidden">
        <h4>✅ With Documentation Agent Orchestrator</h4>
        <pre id="with-text" style="background: #fafffa; padding: 1rem; border-radius: 4px; border: 1px solid #cfc; white-space: pre-wrap; font-size: 0.9rem; line-height: 1.6;"></pre>
        
        <p style="margin-top: 1rem;"><strong id="with-label"></strong></p>
        <div id="with-explanation" style="font-size: 0.9rem;"></div>
      </div>

      <!-- Micro-explanation -->
      <div style="margin-top: 2rem; padding: 1.5rem; background: white; border-radius: 6px; border: 1px solid var(--border);">
        <p><strong>What the toggle shows</strong></p>
        <ul style="margin: 0.5rem 0;">
          <li><strong>Without governance</strong>: AI fills gaps silently to sound helpful</li>
          <li><strong>With governance</strong>: AI documents only what exists and exposes uncertainty</li>
        </ul>
        <p style="margin-top: 1rem;">The difference is not style. The difference is correctness.</p>
      </div>

      <!-- Lock-in statement -->
      <p style="text-align: center; font-size: 1.1rem; font-weight: 600; margin: 2rem 0 0; color: var(--fg);">
        Documentation Agent Orchestrator doesn't make AI smarter.<br>It makes AI stop lying.
      </p>
    </section>

    <!-- Preserved Ambiguities Section -->
    <div class="collapsible-section">
      <div class="collapsible-header">
        <span class="collapsible-icon">▶</span>
        <span>What does "Preserved Ambiguity" mean?</span>
      </div>
      <div class="collapsible-content">
        <div class="collapsible-content-inner">
          <p>When source documentation is vague, normal AI fills in the gaps. This tool makes vagueness explicit instead.</p>
          
          <div style="background: white; border: 1px solid var(--border); border-radius: 6px; padding: 1.5rem; margin: 1rem 0;">
            <p><strong>Input:</strong></p>
            <pre style="background: #f5f5f5; padding: 0.75rem; border-radius: 4px;">Admins get extra options.</pre>
            
            <p style="margin-top: 1.5rem;"><strong>❌ Typical AI:</strong></p>
            <p style="padding: 0.75rem; background: #fffafa; border-left: 3px solid #c00; border-radius: 4px;">
              Admins are redirected to the admin dashboard with additional controls.
            </p>
            
            <p style="margin-top: 1.5rem;"><strong>✅ Documentation Agent Orchestrator:</strong></p>
            <p style="padding: 0.75rem; background: #fafffa; border-left: 3px solid #060; border-radius: 4px;">
              Admin users have access to additional options.
            </p>
            
            <p style="margin-top: 1rem;"><strong>Preserved Ambiguity:</strong><br>
            <span class="highlight-good">"additional options" (not defined)</span></p>
          </div>
          
          <p><strong>The tool does not fix vague inputs. It exposes them.</strong></p>
        </div>
      </div>
    </div>

    <!-- Decision Flow -->
    <div class="collapsible-section">
      <div class="collapsible-header">
        <span class="collapsible-icon">▶</span>
        <span>When will it ask questions?</span>
      </div>
      <div class="collapsible-content">
        <div class="collapsible-content-inner">
          <p>The tool makes a simple decision for every documentation rewrite:</p>
          
          <div class="decision-flow">Can documentation be written without guessing?
│
├─ <strong>Yes</strong> → Document exactly what is provided
│         Preserve ambiguity explicitly
│
└─ <strong>No</strong> → Stop and ask clarifying questions</div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1.5rem;">
            <div style="background: #fafffa; border: 1px solid #cfc; border-radius: 6px; padding: 1rem;">
              <p><strong>✅ Example: Proceeds</strong></p>
              <p style="font-size: 0.9rem; color: var(--muted);">Input: "User logs in. System checks credentials."</p>
              <p style="font-size: 0.9rem; margin-top: 0.5rem;">Result: Documented exactly as written with preserved ambiguities.</p>
            </div>
            <div style="background: #fffafa; border: 1px solid #fcc; border-radius: 6px; padding: 1rem;">
              <p><strong>❌ Example: Blocks</strong></p>
              <p style="font-size: 0.9rem; color: var(--muted);">Input: "Handle the login stuff properly."</p>
              <p style="font-size: 0.9rem; margin-top: 0.5rem;">Result: Questions: What is "login stuff"? What does "properly" mean?</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Try It Mentally -->
    <div class="collapsible-section">
      <div class="collapsible-header">
        <span class="collapsible-icon">▶</span>
        <span>Try it yourself (mentally)</span>
      </div>
      <div class="collapsible-content">
        <div class="collapsible-content-inner">
          <div class="quiz-box">
            <p><strong>Input:</strong></p>
            <pre style="background: #f5f5f5; padding: 0.75rem; border-radius: 4px; margin: 0.5rem 0;">User logs in and follows the standard workflow.</pre>
            
            <p><strong>What will the tool do?</strong></p>
            <div class="quiz-options">
              <label class="quiz-option" data-answer="wrong">
                <input type="radio" name="quiz" value="A" style="margin-right: 0.5rem;">
                (A) Guess what the workflow is
              </label>
              <label class="quiz-option" data-answer="correct">
                <input type="radio" name="quiz" value="B" style="margin-right: 0.5rem;">
                (B) Ask clarifying questions
              </label>
              <label class="quiz-option" data-answer="wrong">
                <input type="radio" name="quiz" value="C" style="margin-right: 0.5rem;">
                (C) Invent steps
              </label>
            </div>
            <div class="quiz-explanation" id="quiz-explanation">
              <strong>✅ Correct: (B) Ask clarifying questions</strong><br><br>
              The input says "standard workflow" but doesn't define what that workflow is. The tool cannot document this without inventing information, so it stops and asks: "What is the standard workflow?"
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Common Misconceptions -->
    <div class="collapsible-section">
      <div class="collapsible-header">
        <span class="collapsible-icon">▶</span>
        <span>Common misconceptions</span>
      </div>
      <div class="collapsible-content">
        <div class="collapsible-content-inner">
          <p>Setting expectations before you install:</p>
          
          <div class="misconception-grid">
            <div class="misconception-item">
              <span class="misconception-icon">❌</span>
              <div>
                <strong>"It will improve my writing"</strong><br>
                <span class="muted">No. It intentionally avoids polishing sentences so that meaning remains traceable to the source.</span>
              </div>
            </div>
            <div class="misconception-item">
              <span class="misconception-icon">❌</span>
              <div>
                <strong>"It will clarify vague specs"</strong><br>
                <span class="muted">No. It makes vagueness explicit rather than hiding it in fluent text.</span>
              </div>
            </div>
            <div class="misconception-item">
              <span class="misconception-icon">❌</span>
              <div>
                <strong>"It replaces human review"</strong><br>
                <span class="muted">No. It enforces governance rules, but you still need to verify the output.</span>
              </div>
            </div>
            <div class="misconception-item">
              <span class="misconception-icon">✅</span>
              <div>
                <strong>"It prevents AI from lying"</strong><br>
                <span class="muted">Yes. It stops AI from inventing facts and forces explicit preservation of ambiguity.</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- How it works -->
    <section style="background: #f8f9fb; border: 1px solid var(--border); border-radius: 6px; padding: 1.5rem; margin: 2rem 0;">
      <h2 style="margin-top: 0;">How it works</h2>
      <ol>
        <li>Select source content in VS Code</li>
        <li>Generate a governed AI prompt with strict rules</li>
        <li>Paste it into your AI assistant</li>
        <li>Inspect the output and preserved ambiguities before accepting</li>
      </ol>
    </section>

    <!-- Audience -->
    <section>
      <h2>Who this is for</h2>
      <p><strong>For:</strong> Technical writers, documentation engineers, docs-as-code teams.</p>
      <p><strong>Not for:</strong> Content polishing, grammar correction, creative rewriting.</p>
      <p style="margin-top: 1rem;"><strong>This tool protects correctness, not writing quality.</strong></p>
    </section>

    <!-- Final CTA -->
    <div class="final-cta">
      <h2>If you're accountable for documentation accuracy and can't afford AI guessing, this tool is built for you.</h2>
      <div class="final-cta-buttons">
        <a class="button" href="https://marketplace.visualstudio.com/manage/publishers/tharunsebastian">Install the VS Code Extension</a>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <a href="https://marketplace.visualstudio.com/">VS Code Marketplace</a>
      <span>MIT License</span>
      <span>© 2026 Tharun Sebastian</span>
    </footer>

  </div>

  <script>
    // Toggle examples data
    const toggleExamples = {
      procedure: {
        input: `User clicks login. Credentials checked.
Valid → dashboard.
Invalid → error.
Admins get extra options.`,
        without: {
          text: `Procedure

1. The user clicks the Login button.
2. The system validates the credentials against the database using bcrypt encryption.
3. If the credentials are valid, the user is redirected to the main dashboard with a welcome message.
4. If the credentials are invalid, the system logs the failed attempt for security monitoring and displays an error message.
5. Administrator users are redirected to the admin dashboard with access to user management, system configuration, and analytics tools.`,
          label: 'What went wrong',
          explanation: `<ul>
<li>"bcrypt encryption" - specific method invented</li>
<li>"welcome message" - behavior invented</li>
<li>"logs the failed attempt for security monitoring" - feature invented</li>
<li>"user management, system configuration, and analytics tools" - specific features invented from "extra options"</li>
</ul>
<p style="margin-top: 0.5rem;">Well-structured, professional, and completely wrong.</p>`
        },
        with: {
          text: `Procedure

1. The user clicks the Login button.
2. The system checks the provided credentials.
3. If the credentials are valid, the system redirects the user to the dashboard.
4. If the credentials are invalid, the system displays an error message.
5. Admin users have access to additional options.

Preserved Ambiguities
- "dashboard" (location not specified)
- "error message" (content not specified)
- "additional options" (options not defined)
- "credentials checked" (method not specified)`,
          label: 'Why this is safe',
          explanation: `<ul>
<li>No invented behavior</li>
<li>No implied features</li>
<li>All uncertainty is explicit</li>
<li>Output is traceable to the source</li>
</ul>`
        }
      },
      blocking: {
        input: `Handle the login stuff properly.`,
        without: {
          text: `Procedure

1. The user enters their credentials in the login form.
2. The system validates the credentials using secure authentication protocols.
3. On successful authentication, the user is redirected to their role-appropriate dashboard.
4. Failed login attempts are logged and the user receives an error notification with retry guidance.`,
          label: 'What happened',
          explanation: `<ul>
<li>"login form" - not mentioned in input</li>
<li>"secure authentication protocols" - invented from "properly"</li>
<li>"role-appropriate dashboard" - invented from vague input</li>
<li>"logged" and "retry guidance" - completely invented</li>
</ul>
<p style="margin-top: 0.5rem;">The AI guessed instead of stopping.</p>`
        },
        with: {
          text: `Questions

1. What does "login stuff" refer to?
2. What does "properly" mean in this context?
3. What specific actions should occur during login?
4. What are the success and failure conditions?`,
          label: 'Why this is correct',
          explanation: `<p>Documentation cannot be written without guessing, so the tool stops instead of inventing behavior.</p>`
        }
      },
      concept: {
        input: `The system supports role-based access.`,
        without: {
          text: `Concept: Role-Based Access Control

The system implements role-based access control (RBAC), allowing administrators to assign permissions to users based on their organizational roles. Supported roles include:

- Admin: Full system access and configuration rights
- Editor: Content creation and modification privileges
- Viewer: Read-only access to system resources`,
          label: 'What went wrong',
          explanation: `<ul>
<li>"RBAC" terminology and expansion invented</li>
<li>"administrators to assign permissions" - workflow invented</li>
<li>"Admin, Editor, Viewer" - specific roles invented</li>
<li>Permission details for each role invented</li>
</ul>`
        },
        with: {
          text: `Concept: Role-Based Access

The system supports access based on user roles.

Preserved Ambiguities
- "roles" (specific role types not specified)
- "access" (scope and permissions not defined)
- "supports" (implementation details not specified)`,
          label: 'Result',
          explanation: `<ul>
<li>Terminology preserved</li>
<li>No assumptions about implementation</li>
<li>Ambiguity remains visible</li>
</ul>`
        }
      }
    };

    // Wait for DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Toggle example functionality
      let currentToggleExample = 'procedure';
      let currentToggleView = 'without';

      function updateToggleContent() {
        const example = toggleExamples[currentToggleExample];
        if (!example) return;

        // Update input
        const inputEl = document.getElementById('toggle-input');
        if (inputEl) inputEl.textContent = example.input;

        // Update without content
        const withoutText = document.getElementById('without-text');
        const withoutLabel = document.getElementById('without-label');
        const withoutExplanation = document.getElementById('without-explanation');
        if (withoutText) withoutText.textContent = example.without.text;
        if (withoutLabel) withoutLabel.textContent = example.without.label;
        if (withoutExplanation) withoutExplanation.innerHTML = example.without.explanation;

        // Update with content
        const withText = document.getElementById('with-text');
        const withLabel = document.getElementById('with-label');
        const withExplanation = document.getElementById('with-explanation');
        if (withText) withText.textContent = example.with.text;
        if (withLabel) withLabel.textContent = example.with.label;
        if (withExplanation) withExplanation.innerHTML = example.with.explanation;

        // Toggle visibility
        const outputWithout = document.getElementById('output-without');
        const outputWith = document.getElementById('output-with');
        if (currentToggleView === 'without') {
          if (outputWithout) outputWithout.classList.remove('output-hidden');
          if (outputWith) outputWith.classList.add('output-hidden');
        } else {
          if (outputWithout) outputWithout.classList.add('output-hidden');
          if (outputWith) outputWith.classList.remove('output-hidden');
        }
      }

      // Example selector buttons
      const exampleButtons = document.querySelectorAll('[data-toggle-example]');
      exampleButtons.forEach(button => {
        button.addEventListener('click', function() {
          currentToggleExample = this.dataset.toggleExample;
          exampleButtons.forEach(btn => btn.classList.remove('active'));
          this.classList.add('active');
          updateToggleContent();
        });
      });

      // Toggle between without/with
      const toggleWithout = document.getElementById('toggle-without');
      const toggleWith = document.getElementById('toggle-with');
      
      if (toggleWithout && toggleWith) {
        toggleWithout.addEventListener('click', function() {
          currentToggleView = 'without';
          this.classList.add('active-bad');
          this.classList.remove('active-good');
          toggleWith.classList.remove('active-bad', 'active-good');
          updateToggleContent();
        });
        
        toggleWith.addEventListener('click', function() {
          currentToggleView = 'with';
          this.classList.add('active-good');
          this.classList.remove('active-bad');
          toggleWithout.classList.remove('active-bad', 'active-good');
          updateToggleContent();
        });
      }

      // Initialize
      updateToggleContent();

      // Old toggle functionality (if exists)
      const btnNormal = document.getElementById('btn-normal');
      const btnGoverned = document.getElementById('btn-governed');
      const outputNormal = document.getElementById('output-normal');
      const outputGoverned = document.getElementById('output-governed');
      
      if (btnNormal && btnGoverned && outputNormal && outputGoverned) {
        btnNormal.addEventListener('click', function() {
          btnNormal.classList.add('active-bad');
          btnNormal.classList.remove('active-good');
          btnGoverned.classList.remove('active-bad', 'active-good');
          
          outputNormal.classList.remove('output-hidden');
          outputGoverned.classList.add('output-hidden');
        });
        
        btnGoverned.addEventListener('click', function() {
          btnGoverned.classList.add('active-good');
          btnGoverned.classList.remove('active-bad');
          btnNormal.classList.remove('active-bad', 'active-good');
          
          outputGoverned.classList.remove('output-hidden');
          outputNormal.classList.add('output-hidden');
        });
      }
      
      // Collapsible/Accordion functionality
      const collapsibleHeaders = document.querySelectorAll('.collapsible-header');
      
      collapsibleHeaders.forEach(header => {
        header.addEventListener('click', function() {
          const content = this.nextElementSibling;
          const isActive = this.classList.contains('active');
          
          if (isActive) {
            // Collapse
            this.classList.remove('active');
            content.style.maxHeight = null;
          } else {
            // Expand
            this.classList.add('active');
            content.style.maxHeight = content.scrollHeight + 'px';
          }
        });
      });
      
      // Quiz functionality
      const quizOptions = document.querySelectorAll('.quiz-option');
      const quizExplanation = document.getElementById('quiz-explanation');
      
      if (quizOptions.length > 0 && quizExplanation) {
        quizOptions.forEach(option => {
          option.addEventListener('click', function() {
            const isCorrect = this.dataset.answer === 'correct';
            
            // Disable all options
            quizOptions.forEach(opt => {
              opt.style.pointerEvents = 'none';
              if (opt.dataset.answer === 'correct') {
                opt.classList.add('correct');
              } else {
                opt.classList.add('wrong');
              }
            });
            
            // Show explanation
            quizExplanation.classList.add('show');
            
            // Expand parent collapsible if needed
            const parentContent = this.closest('.collapsible-content');
            if (parentContent) {
              parentContent.style.maxHeight = parentContent.scrollHeight + 'px';
            }
          });
        });
      }
    });
  </script>

</body>
</html>
